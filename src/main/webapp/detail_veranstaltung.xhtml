<ui:composition template="./grundform.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
	<f:metadata>
		<f:viewParam name="id" value="#{detailVeranstaltungRequest.event}">
			<f:converter binding="#{veranstaltungConverter}" />
		</f:viewParam>
	</f:metadata>
	<ui:define name="title">
         #{detailVeranstaltungRequest.event.name}
    </ui:define>
	<ui:define name="content">


		<h:panelGroup>
			<div class="container">
			<h:messages></h:messages>
				<h:form>
					
					<h:outputText rendered="#{not detailVeranstaltungRequest.canEdit}" id="name" class="form-control"
						value="#{detailVeranstaltungRequest.event.name}">
					</h:outputText>
					<h:inputText rendered="#{detailVeranstaltungRequest.canEdit}" id="nameEdit" class="form-control"
						value="#{detailVeranstaltungRequest.event.name}">
					</h:inputText>
					<br />
					<p>Beschreibung:</p>
					<h:outputText rendered="#{not detailVeranstaltungRequest.canEdit}"
						id="beschreibung" class="form-control"
						value="#{detailVeranstaltungRequest.event.beschreibung}" cols="5">
					</h:outputText>
					<h:inputText rendered="#{detailVeranstaltungRequest.canEdit}"
						id="beschreibungEdit" class="form-control"
						value="#{detailVeranstaltungRequest.event.beschreibung}" cols="5">
					</h:inputText>
					<br />
					<h:outputText rendered="#{not detailVeranstaltungRequest.canEdit}"
						id="datum" class="form-control"
						value="#{detailVeranstaltungRequest.event.datum}">
						<f:convertDateTime pattern="dd.MM.yyyy"></f:convertDateTime>
					</h:outputText>
					<h:inputText rendered="#{detailVeranstaltungRequest.canEdit}"
						id="datumEdit" class="form-control"
						value="#{detailVeranstaltungRequest.event.getDatum().toString()}">
						<f:convertDateTime pattern="dd.MM.yyyy"></f:convertDateTime>
					</h:inputText>
					<br />
					<h:outputText rendered="#{not detailVeranstaltungRequest.canEdit}"
						id="ort" class="form-control"
						value="#{detailVeranstaltungRequest.event.ort}">
					</h:outputText>
					<h:inputText rendered="#{detailVeranstaltungRequest.canEdit}"
						id="ortEdit" class="form-control"
						value="#{detailVeranstaltungRequest.event.ort}">
					</h:inputText>
					<h:outputText rendered="#{not detailVeranstaltungRequest.canEdit}"
						id="tickets" class="form-control"
						value="#{detailVeranstaltungRequest.event.anzahlVerfuegbareTickets()}">
					</h:outputText>
					<h:inputText rendered="#{detailVeranstaltungRequest.canEdit}"
						id="ticketsEdit" class="form-control" 
						value="#{detailVeranstaltungRequest.anzTickets}">
					</h:inputText>
										
					<br />

					<br />

					<h:commandButton value="Bearbeiten"
						action="#{detailVeranstaltungRequest.editVeranstaltung}"
						rendered="#{!detailVeranstaltungRequest.canEdit &amp;&amp; security.isManagerEvent(detailVeranstaltungRequest.event) &amp;&amp; !detailVeranstaltungRequest.event.istVeroeffentlicht}">
					</h:commandButton>
					<h:commandButton value="Speichern"
						action="#{detailVeranstaltungRequest.updateVeranstaltung}"
						rendered="#{detailVeranstaltungRequest.canEdit}">
					</h:commandButton>
					<h:inputText rendered="#{security.isLoggedIn() &amp;&amp; !detailVeranstaltungRequest.canEdit}" pt:placeholder="0" pt:type="number" value="#{detailVeranstaltungRequest.event.zuReservierendeTickets}">
					<f:convertNumber/>
					</h:inputText>
					<h:commandButton value = "Reservieren"
					action ="#{detailVeranstaltungRequest.reservieren(detailVeranstaltungRequest.event.zuReservierendeTickets)}"
					rendered="#{security.isLoggedIn() &amp;&amp; !detailVeranstaltungRequest.canEdit}">
					
					</h:commandButton>
					
					
					
				</h:form>
			</div>
		</h:panelGroup>
	</ui:define>
</ui:composition>